# Агент оценки тона телефонных разговоров
Telegram-бот для анализа эмоциональной окраски диалогов и генерации рекомендаций по улучшению качества общения.

# Выбранная модель
Модель: deepseek/deepseek-r1 через платформу OpenRouter ( https://openrouter.ai/deepseek/deepseek-r1:free/api )

# Причина выбора:

Современная мощная модель с хорошим пониманием контекста

Поддержка русского языка

Возможность генерации развернутых ответов (не только классификация)

Бесплатный доступ через OpenRouter для тестирования

Удобное API, совместимое с OpenAI

# Запуск локально
Установите зависимости:

bash
pip install openai python-dotenv aiogram aiohttp
Создайте файл .env:

bash
TELEGRAM_BOT_TOKEN=your_telegram_bot_token_here
OPENROUTER_API_KEY=your_openrouter_api_key_here  # Опционально, можно оставить пустым для бесплатного использования
Запустите бота:

bash
python bot.py
Бот будет доступен в Telegram после запуска. Порт по умолчанию не требуется.

# Получение токенов
Telegram Bot Token:

Напишите @BotFather в Telegram

Используйте команду /newbot

Следуйте инструкциям и получите токен

OpenRouter API Key (опционально):

Зарегистрируйтесь на OpenRouter

В настройках профиля получите API-ключ

Добавьте его в .env файл для увеличения лимитов

# Ограничения
Длина текста: Модель может обрезать очень длинные диалоги (более 2000 символов)

Скорость ответа: Зависит от нагрузки на OpenRouter (15 - 25 секунд)

Точность: В сложных эмоциональных ситуациях возможны неточности в классификации

Язык: Оптимизирован для русского языка, с английским могут быть проблемы

# Что бы я сделал при большем времени
Добавил бы кэширование запросов для уменьшения нагрузки на API

Реализовал бы обработку длинных текстов через разбиение на части и агрегацию результатов

Добавил бы веб-интерфейс через Streamlit для альтернативного использования

Настроил бы логирование запросов и ошибок для удобства отладки

Добавил бы тесты для проверки качества работы модели

Реализовал бы возможность выбора между разными моделями (локальными и облачными)

Создал бы Docker-образ для упрощения развертывания

# Важное примечание
Для тестирования API-ключ OpenRouter не обязателен — модель работает и в бесплатном режиме с ограничениями. Это позволяет быстро попробовать бота в работе без регистрации.
